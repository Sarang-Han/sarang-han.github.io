---
title: MacOS에서 Katago 설치 및 실행 방법
description: Mac에서 Katago를 설치하고 GTP 모드로 실행하는 간단 가이드
date: 2024-11-26
categories: [etc]
tags: [Baduk, katago, macos]
---

> 2024년 11월 버전 기준으로 작성됨
{: .prompt-warning }

## **Requirements**

1. [Homebrew](https://brew.sh/ko/) 설치하기
2. Mac OS **Terminal** 실행하기
3. KataGo **가중치(Networks)**, 최신 **설정 파일(Config File)**이 `Share` 폴더 내부에 잘 있는지 확인하기.
    
    `brew list --verbose katago`  명령어를 통해 해당 파일들이 존재하는지 터미널에서 확인 가능.
    
    ```jsx
    // 예시
    $ brew list --verbose katago // 명령어 실행
    /usr/local/Cellar/katago/1.15.3/INSTALL_RECEIPT.json
    /usr/local/Cellar/katago/1.15.3/LICENSE
    /usr/local/Cellar/katago/1.15.3/bin/katago
    /usr/local/Cellar/katago/1.15.3/.brew/katago.rb
    /usr/local/Cellar/katago/1.15.3/sbom.spdx.json
    /usr/local/Cellar/katago/1.15.3/README.md
    /usr/local/Cellar/katago/1.15.3/share/katago/g170-b30c320x2-s4824661760-d1229536699.bin.gz
    ... // 결과 목록
    ```
    
4. (선택) 원하는 가중치 파일이 있다면 [카타고 릴리즈](https://github.com/lightvector/KataGo/releases)에서 다운로드하여 카타고 폴더에 넣기. 혹은 [카타고 홈페이지의 Networks](https://katagotraining.org/networks/)에서 다운로드해도 된다.


## **STEP**

1. Terminal을 실행한 뒤, `brew install katago` 명령어를 입력한다.
2. 아래 명령어를 실행한다.
    
    `katago gtp -config $(brew list --verbose katago | grep 'gtp.*\.cfg') -model $(brew list --verbose katago | grep .gz | head -1)`
    
3. 아래 이미지처럼, KataGo 버전과 함께 `GTP ready, beginning main protocol loop` 문장이 뜨면 가동 성공.
    
    <img src="/assets/img/posts/run.png" alt="KataGo 실행 완료 화면" width="500">


## **More**

### 명령어 분석

1. `katago gtp`
    - katago: KataGo 실행 명령어.
    - gtp: GTP(Go Text Protocol) 모드로 KataGo를 실행하는 옵션.

2. `-config $(brew list --verbose katago | grep 'gtp.*\.cfg')`
    - `-config` : KataGo에 설정 파일의 경로를 지정.
    - `$(brew list --verbose katago | grep 'gtp.*\.cfg')` : Homebrew로 설치된 KataGo GTP 설정 파일(.cfg) 경로를 찾아 KataGo에 전달.

3. `-model $(brew list --verbose katago | grep .gz | head -1)`
    - `-model` : KataGo에 사용될 신경망 가중치 파일 경로를 지정.
    - `$(brew list --verbose katago | grep .gz | head -1)`
        - Homebrew로 설치된 KataGo 관련 파일 중 .gz 확장자를 가진 가중치 파일을 찾음.
        - `head -1` : 찾은 파일 목록에서 첫 번째 파일 반환.
        - 결과적으로 가중치 파일(.gz) 경로를 KataGo에 전달.

### Tip

- 명령어를 실행하기 전에, 아래 명령어로 경로가 제대로 반환되는지 확인해보자.
    
    ```jsx
    echo $(brew list --verbose katago | grep 'gtp.*\.cfg')
    echo $(brew list --verbose katago | grep .gz | head -1)
    ```
    
- KataGo는 자체적인 GUI가 내장되어 있지 않고, GTP 엔진만 구현된 프로그램이기 때문에 인공지능 대국/복기용으로 사용하려면 [Sabaki](https://github.com/SabakiHQ/Sabaki), [Katrain](https://github.com/sanderland/katrain), [LizzieYzy](https://github.com/yzyray/lizzieyzy?tab=readme-ov-file#lizzieyzy---%EB%B0%94%EB%91%91-%EC%97%94%EC%A7%84%EC%9A%A9-gui) 등의 GUI 툴을 연동하여 사용하여야 한다.


### **Reference**

- [KataGo 공식 문서 - Setting up and Running KataGo](https://github.com/lightvector/KataGo?tab=readme-ov-file#setting-up-and-running-katago)
- [KataGo 공식 문서 - MacOS 설치 방법](https://github.com/lightvector/KataGo?tab=readme-ov-file#macos)